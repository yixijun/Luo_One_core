# æ´›ä¸€ (Luo One) - åç«¯æœåŠ¡

æ´›ä¸€æ˜¯ä¸€ä¸ªå‰åç«¯åˆ†ç¦»çš„å¤šé‚®ç®±ç®¡ç†ç³»ç»Ÿã€‚æœ¬ä»“åº“ä¸ºåç«¯æœåŠ¡ï¼Œä½¿ç”¨ Go è¯­è¨€å¼€å‘ã€‚

## åŠŸèƒ½ç‰¹æ€§

- ğŸ” **å®‰å…¨è®¤è¯**: API å¯†é’¥è®¤è¯ + JWT ç”¨æˆ·ä¼šè¯ç®¡ç†
- ğŸ“§ **å¤šé‚®ç®±ç®¡ç†**: æ”¯æŒæ·»åŠ å¤šä¸ª IMAP/SMTP é‚®ç®±è´¦æˆ·
- ğŸ“¬ **é‚®ä»¶æ”¶å‘**: è‡ªåŠ¨æ‹‰å–é‚®ä»¶ã€å‘é€é‚®ä»¶ã€é™„ä»¶ç®¡ç†
- ğŸ¤– **æ™ºèƒ½å¤„ç†**: AI/æœ¬åœ°åŒæ¨¡å¼é‚®ä»¶å¤„ç†
  - éªŒè¯ç æå–
  - å¹¿å‘Šé‚®ä»¶è¯†åˆ«
  - é‚®ä»¶å†…å®¹æ€»ç»“
  - é‡è¦åº¦åˆ¤æ–­
- ğŸ“ **å®Œæ•´æ—¥å¿—**: æ“ä½œå®¡è®¡å’Œé”™è¯¯è¿½è¸ª
- ğŸ› ï¸ **CLI å·¥å…·**: å‘½ä»¤è¡Œç®¡ç†ç”¨æˆ·å’Œå¯†é’¥

## æŠ€æœ¯æ ˆ

- **è¯­è¨€**: Go 1.21+
- **Web æ¡†æ¶**: Gin
- **ORM**: GORM
- **æ•°æ®åº“**: SQLite
- **è®¤è¯**: JWT + bcrypt

## é¡¹ç›®ç»“æ„

```
Luo_One_core/
â”œâ”€â”€ cmd/
â”‚   â””â”€â”€ main.go                 # åº”ç”¨å…¥å£
â”œâ”€â”€ internal/
â”‚   â”œâ”€â”€ api/                    # API è·¯ç”±å’Œå¤„ç†å™¨
â”‚   â”‚   â”œâ”€â”€ router.go
â”‚   â”‚   â”œâ”€â”€ middleware/         # è®¤è¯ä¸­é—´ä»¶
â”‚   â”‚   â””â”€â”€ handlers/           # API å¤„ç†å™¨
â”‚   â”œâ”€â”€ cli/                    # å‘½ä»¤è¡Œå·¥å…·
â”‚   â”œâ”€â”€ config/                 # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ database/               # æ•°æ®åº“å±‚
â”‚   â”‚   â”œâ”€â”€ db.go
â”‚   â”‚   â””â”€â”€ models/             # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ functions/              # é‚®ä»¶å¤„ç†åŠŸèƒ½
â”‚   â”‚   â”œâ”€â”€ processor.go
â”‚   â”‚   â”œâ”€â”€ ai/                 # AI å¤„ç†
â”‚   â”‚   â””â”€â”€ local/              # æœ¬åœ°å¤„ç†
â”‚   â”œâ”€â”€ services/               # ä¸šåŠ¡æœåŠ¡å±‚
â”‚   â””â”€â”€ user/                   # ç”¨æˆ·æ•°æ®ç®¡ç†
â”œâ”€â”€ data/                       # è¿è¡Œæ—¶æ•°æ®
â”‚   â”œâ”€â”€ users/                  # ç”¨æˆ·æ•°æ®ç›®å½•
â”‚   â”œâ”€â”€ luo_one.db              # SQLite æ•°æ®åº“
â”‚   â””â”€â”€ api_key.txt             # API å¯†é’¥
â”œâ”€â”€ go.mod
â””â”€â”€ go.sum
```

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Go 1.21 æˆ–æ›´é«˜ç‰ˆæœ¬

### å®‰è£…ä¾èµ–

```bash
go mod download
```

### è¿è¡ŒæœåŠ¡

```bash
# å¼€å‘æ¨¡å¼
go run cmd/main.go serve

# æˆ–ç¼–è¯‘åè¿è¡Œ
go build -o luo_one_core ./cmd/main.go
./luo_one_core serve
```

æœåŠ¡é»˜è®¤è¿è¡Œåœ¨ `http://localhost:8080`

### CLI å‘½ä»¤

```bash
# æŸ¥çœ‹ API å¯†é’¥
./luo_one_core key show

# é‡ç½® API å¯†é’¥
./luo_one_core key reset

# åˆ›å»ºç”¨æˆ·
./luo_one_core user create

# åˆ—å‡ºæ‰€æœ‰ç”¨æˆ·
./luo_one_core user list

# é‡ç½®ç”¨æˆ·å¯†ç 
./luo_one_core user reset-pwd
```

## API æ¥å£

### è®¤è¯

æ‰€æœ‰ API è¯·æ±‚éœ€è¦åœ¨ Header ä¸­æºå¸¦ API å¯†é’¥ï¼š

```
X-API-Key: your-api-key
```

ç”¨æˆ·ç›¸å…³æ¥å£è¿˜éœ€è¦ JWT Tokenï¼š

```
Authorization: Bearer your-jwt-token
```

### ä¸»è¦æ¥å£

| æ–¹æ³• | è·¯å¾„ | æè¿° |
|------|------|------|
| POST | /api/auth/login | ç”¨æˆ·ç™»å½• |
| GET | /api/user/profile | è·å–ç”¨æˆ·ä¿¡æ¯ |
| PUT | /api/user/profile | æ›´æ–°ç”¨æˆ·ä¿¡æ¯ |
| PUT | /api/user/password | ä¿®æ”¹å¯†ç  |
| GET | /api/user/settings | è·å–ç”¨æˆ·è®¾ç½® |
| PUT | /api/user/settings | æ›´æ–°ç”¨æˆ·è®¾ç½® |
| GET | /api/accounts | è·å–é‚®ç®±è´¦æˆ·åˆ—è¡¨ |
| POST | /api/accounts | æ·»åŠ é‚®ç®±è´¦æˆ· |
| PUT | /api/accounts/:id | æ›´æ–°é‚®ç®±è´¦æˆ· |
| DELETE | /api/accounts/:id | åˆ é™¤é‚®ç®±è´¦æˆ· |
| POST | /api/accounts/:id/test | æµ‹è¯•é‚®ç®±è¿æ¥ |
| GET | /api/emails | è·å–é‚®ä»¶åˆ—è¡¨ |
| GET | /api/emails/:id | è·å–é‚®ä»¶è¯¦æƒ… |
| DELETE | /api/emails/:id | åˆ é™¤é‚®ä»¶ |
| POST | /api/emails/send | å‘é€é‚®ä»¶ |
| POST | /api/emails/sync | åŒæ­¥é‚®ä»¶ |

## é…ç½®

é€šè¿‡ç¯å¢ƒå˜é‡é…ç½®ï¼š

| å˜é‡ | é»˜è®¤å€¼ | æè¿° |
|------|--------|------|
| LUO_ONE_PORT | 8080 | API æœåŠ¡ç«¯å£ |
| LUO_ONE_DATA_DIR | ./data | æ•°æ®ç›®å½• |
| LUO_ONE_LOG_LEVEL | info | æ—¥å¿—çº§åˆ« |

## æµ‹è¯•

```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
go test ./... -v

# è¿è¡Œå±æ€§æµ‹è¯•ï¼ˆåŒ…å« 100 æ¬¡è¿­ä»£ï¼‰
go test ./... -v -count=1
```

## å‰ç«¯é¡¹ç›®

å‰ç«¯é¡¹ç›®ä½äºç‹¬ç«‹ä»“åº“ï¼š[Luo_One_ko](https://github.com/yixijun/Luo_One_ko)

## è®¸å¯è¯

MIT License
